<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Salary Form - Form 16 Generator</title>
<style>
body {
  font-family: Arial, sans-serif;
  background:#f8f9fa;
  margin:0; padding:0;
}
.container {
  max-width: 600px;
  margin:40px auto;
  background:white;
  padding:20px 30px;
  border-radius:10px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
}
h2 {
  text-align:center;
  margin-bottom:20px;
}
label {
  font-weight:bold;
  display:block;
  margin-top:12px;
}
input, select {
  width:100%;
  padding:8px;
  margin-top:5px;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:14px;
}
input:invalid {
  border-color: red;
}
button {
  margin-top:20px;
  padding:10px 18px;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
  background:#3498db;
  color:white;
  width:100%;
}
button:hover {
  background:#2980b9;
}
.error-msg {
  color:red;
  font-size:12px;
  display:none;
}
</style>
</head>
<body>

<div class="container">
  <h2>Form 16 Generator (FY 2025-26)</h2>
  <form id="salaryForm" method="post" action="/calculate_salary">

    <label for="name">Name</label>
    <input type="text" id="name" name="name" required>

    <label for="kgid">KGID No</label>
    <input type="text" id="kgid" name="kgid">

    <label for="pan">PAN</label>
    <input type="text" id="pan" name="pan" required 
           pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" 
           title="PAN must be 10 characters: 5 uppercase letters, 4 digits, 1 uppercase letter">

    <label for="designation">Designation</label>
    <input type="text" id="designation" name="designation">

    <label for="group">Group</label>
    <input type="text" id="group" name="group">

    <label for="basic_salary">Basic Salary</label>
    <input type="number" id="basic_salary" name="basic_salary" required min="0">

    <label for="increment_month">Increment Month</label>
    <select id="increment_month" name="increment_month" required>
      <option value="1">January</option>
      <option value="2">February</option>
      <option value="3">March</option>
      <option value="4">April</option>
      <option value="5">May</option>
      <option value="6">June</option>
      <option value="7">July</option>
      <option value="8">August</option>
      <option value="9">September</option>
      <option value="10">October</option>
      <option value="11">November</option>
      <option value="12">December</option>
    </select>

    <label for="allowance">Other Allowance</label>
    <input type="number" id="allowance" name="allowance" value="0" min="0">

    <label for="el_encashment_amount">EL Encashment</label>
    <input type="number" id="el_encashment_amount" name="el_encashment_amount" value="0" min="0">

    <button type="submit">Generate Report</button>
  </form>
</div>

<script>
// Extra JS validation for PAN & non-negative values
document.getElementById("salaryForm").addEventListener("submit", function(event) {
  const pan = document.getElementById("pan").value.trim();
  const panRegex = /^[A-Z]{5}[0-9]{4}[A-Z]{1}$/;
  if (!panRegex.test(pan)) {
    alert("Invalid PAN format. Example: ABCDE1234F");
    event.preventDefault();
    return false;
  }

  const fields = ["basic_salary", "allowance", "el_encashment_amount"];
  for (let id of fields) {
    let val = document.getElementById(id).value;
    if (val < 0) {
      alert("Values cannot be negative!");
      event.preventDefault();
      return false;
    }
  }
});
</script>

</body>
</html>
